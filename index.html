<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Entre t√∫ y yo</title>
  <style>
    /* FONDO DE GALAXIA ANIMADO */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(-45deg, #141e30, #243b55, #3a1c3d, #1e3c72);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      color: #fff;
      text-align: center;
      height: 100vh;
      overflow: auto;
      position: relative;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* ESTRELLAS ANIMADAS */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: twinkle 2s infinite ease-in-out;
    }

    @keyframes twinkle {
      0% { opacity: 0.2; }
      50% { opacity: 1; }
      100% { opacity: 0.2; }
    }

    /* CORAZONES FLOTANTES */
    .heart {
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-size: 30px;
      color: #ff69b4;
      animation: beat 1s infinite, float 3s infinite alternate;
      cursor: pointer;
      z-index: 100;
    }

    @keyframes beat {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }

    @keyframes float {
      0% { transform: translateY(0); }
      100% { transform: translateY(-15px); }
    }

    /* T√çTULO */
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 3.5em;
      margin-top: 50px;
      color: #ff99aa;
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    }

    /* BOTONES CON BRILLO */
    .btn {
      display: block;
      width: 85%;
      max-width: 320px;
      margin: 25px auto;
      padding: 18px;
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #ff99aa;
      border-radius: 20px;
      color: white;
      font-size: 1.3em;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    .btn:hover {
      background: rgba(255, 150, 180, 0.3);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 6px 15px rgba(255, 100, 150, 0.4);
    }

    /* PANTALLAS OCULTAS */
    .screen {
      display: none;
      padding: 20px;
      margin: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 20px;
      border: 1px solid #ff99aa;
    }

    .back-btn {
      margin-top: 20px;
      background: #555 !important;
      border: 1px solid #aaa !important;
    }

    /* ENTRADAS DE DIARIO */
    .entry {
      background: rgba(255, 255, 255, 0.1);
      margin: 10px auto;
      padding: 15px;
      border-radius: 12px;
      max-width: 90%;
      text-align: left;
      font-style: italic;
    }

    input, textarea, button {
      font-family: inherit;
    }

    /* CUENTA REGRESIVA */
    .countdown {
      font-size: 2em;
      margin: 20px;
      color: #ffcc00;
      text-shadow: 0 0 10px rgba(255, 200, 0, 0.5);
    }

    /* MISI√ìN */
    .mission-progress {
      font-size: 1.2em;
      margin: 20px;
      color: #98fb98;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&display=swap" rel="stylesheet">
</head>
<body>

  <!-- FONDO DE ESTRELLAS -->
  <div class="stars" id="stars"></div>

  <!-- PANTALLA PRINCIPAL -->
  <div id="home" class="overlay">
    <h1>Entre t√∫ y yo</h1>
    <button class="btn" onclick="showScreen('diary')">üìì Mi diario de sentimientos</button>
    <button class="btn" onclick="showRandomPhrase()">üí¨ Frase aleatoria</button>
    <button class="btn" onclick="showScreen('letters')">üìÖ Cartas del tiempo</button>
    <button class="btn" onclick="showScreen('missions')">üèÜ Mis misiones secretas</button>
    <button class="btn" onclick="showScreen('countdown')">‚è≥ Pr√≥xima cita</button>
    <div class="heart">‚ù§Ô∏è</div>
  </div>

  <!-- DIARIO -->
  <div id="diary" class="screen">
    <h2>üìñ Mi diario</h2>
    <p>Agrega un sentimiento especial...</p>
    <input type="text" id="author" placeholder="¬øT√∫ o ella?" style="width:80%; padding:10px; margin:10px; border-radius:10px; border:none;">
    <textarea id="message" placeholder="Escribe lo que sientes..." style="width:80%; height:100px; padding:10px; margin:10px; border-radius:10px; border:none;"></textarea>
    <button class="btn" onclick="addDiaryEntry()">‚ûï A√±adir entrada</button>
    <div id="diary-entries"></div>
    <button class="btn back-btn" onclick="goHome()">‚Üê Volver</button>
  </div>

  <!-- FRASE ALEATORIA -->
  <div id="phrase" class="screen">
    <h2>üí¨ Frase de amor</h2>
    <p id="random-phrase" style="font-size:1.4em; margin:30px;">Toca el bot√≥n para ver una frase.</p>
    <button class="btn" onclick="showRandomPhrase()">üîÑ Nueva frase</button>
    <button class="btn back-btn" onclick="goHome()">‚Üê Volver</button>
  </div>

  <!-- CARTAS POR FECHA -->
  <div id="letters" class="screen">
    <h2>üì¨ Cartas del tiempo</h2>
    <p>Algunas cartas solo aparecen en ciertos d√≠as...</p>
    <div id="scheduled-letters"></div>
    <button class="btn back-btn" onclick="goHome()">‚Üê Volver</button>
  </div>

  <!-- MISI√ìN -->
  <div id="missions" class="screen">
    <h2>üèÜ Mis misiones secretas</h2>
    <p id="mission-status">üîí Accede al modo admin para ver tus misiones.</p>
    <div id="admin-panel" style="display:none;">
      <p><strong>Misi√≥n:</strong> Ella suba 3 fotos ‚Üí t√∫ desbloqueas una foto especial.</p>
      <p id="mission-progress">Progreso: 0/3 fotos</p>
      <button class="btn" onclick="advanceMission()">‚ûï A√±adir foto (simulaci√≥n)</button>
      <button class="btn" onclick="unlockSpecial()">üîì Desbloquear foto especial</button>
      <img id="special-img" src="" style="max-width:80%; border-radius:15px; margin:20px; display:none;">
    </div>
    <button class="btn back-btn" onclick="goHome()">‚Üê Volver</button>
  </div>

  <!-- CUENTA REGRESIVA -->
  <div id="countdown" class="screen">
    <h2>‚è≥ Pr√≥xima cita</h2>
    <p>¬øCu√°ndo volver√°n a verse?</p>
    <input type="date" id="next-date" style="padding:10px; margin:10px; border-radius:10px; border:none; display:none;">
    <button class="btn" id="set-date-btn" onclick="toggleDateInput()">üìÖ Cambiar fecha (admin)</button>
    <div class="countdown" id="countdown-timer">Cargando...</div>
    <button class="btn back-btn" onclick="goHome()">‚Üê Volver</button>
  </div>

  <script>
    // CONTRASE√ëA ADMIN
    const ADMIN_PASS = "SB";
    let adminMode = false;
    let missionPhotos = 0;
    const specialImageUrl = "https://img.freepik.com/fotos-premium/hermosa-sonrisa-mujer-joven-feliz-fondo-rosa_902995-12559.jpg"; // Cambia esta URL por tu foto especial

    // Crear estrellas animadas
    function createStars() {
      const stars = document.getElementById('stars');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        star.style.top = `${Math.random() * 100}vh`;
        star.style.left = `${Math.random() * 100}vw`;
        star.style.animationDelay = `${Math.random() * 2}s`;
        stars.appendChild(star);
      }
    }

    // Frases aleatorias
    let frases = [
      "Tu sonrisa es mi lugar favorito del mundo.",
      "Cada segundo contigo es un regalo.",
      "Eres mi hoy y todos mis ma√±anas.",
      "Contigo, el tiempo se detiene.",
      "Me enamoro de ti una y otra vez."
    ];

    // Diario (almacenado en el navegador)
    function loadDiary() {
      const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
      const container = document.getElementById('diary-entries');
      container.innerHTML = '';
      entries.forEach(entry => {
        const div = document.createElement('div');
        div.classList.add('entry');
        div.innerHTML = `<strong>${entry.author}</strong> (${entry.date})<br>${entry.message}`;
        container.appendChild(div);
      });
    }

    function addDiaryEntry() {
      const author = document.getElementById('author').value.trim();
      const message = document.getElementById('message').value.trim();
      if (!author || !message) {
        alert("Por favor, llena todos los campos.");
        return;
      }
      const newEntry = {
        author,
        message,
        date: new Date().toLocaleDateString('es-ES')
      };
      const entries = JSON.parse(localStorage.getItem('diaryEntries') || '[]');
      entries.push(newEntry);
      localStorage.setItem('diaryEntries', JSON.stringify(entries));
      document.getElementById('author').value = '';
      document.getElementById('message').value = '';
      loadDiary();
      alert("‚ú® Entrada guardada con amor.");
    }

    // Frase aleatoria
    function showRandomPhrase() {
      const phrase = frases[Math.floor(Math.random() * frases.length)];
      document.getElementById('random-phrase').textContent = phrase;
      showScreen('phrase');
    }

    // Modo admin (tocar 5 veces)
    let clickCount = 0;
    document.querySelector('h1').addEventListener('click', () => {
      clickCount++;
      if (clickCount >= 5 && !adminMode) {
        const pass = prompt("üîê Ingresa la contrase√±a:");
        if (pass === ADMIN_PASS) {
          adminMode = true;
          alert("‚úÖ Modo administrador activado");
          document.getElementById('set-date-btn').style.display = 'block';
          document.getElementById('next-date').style.display = 'block';
          document.getElementById('mission-status').style.display = 'none';
          document.getElementById('admin-panel').style.display = 'block';
          updateMissionProgress();
        }
        clickCount = 0;
      }
    });

    // Misiones
    function advanceMission() {
      missionPhotos++;
      updateMissionProgress();
      localStorage.setItem('missionPhotos', missionPhotos);
    }

    function updateMissionProgress() {
      document.getElementById('mission-progress').textContent = `Progreso: ${missionPhotos}/3 fotos`;
      if (missionPhotos >= 3) {
        document.getElementById('special-img').src = specialImageUrl;
        document.getElementById('special-img').style.display = 'block';
      }
    }

    function unlockSpecial() {
      if (missionPhotos >= 3) {
        alert("üéâ ¬°Has desbloqueado una foto muy especial! ‚ù§Ô∏è");
      } else {
        alert(`Faltan ${3 - missionPhotos} fotos para desbloquear.`);
      }
    }

    // Cuenta regresiva
    function updateCountdown() {
      let nextDateStr = localStorage.getItem('nextCitaDate');
      if (!nextDateStr) {
        nextDateStr = '2025-06-15'; // Fecha por defecto
        localStorage.setItem('nextCitaDate', nextDateStr);
      }
      document.getElementById('next-date').value = nextDateStr;

      const now = new Date();
      const nextDate = new Date(nextDateStr);
      const diff = nextDate - now;

      if (diff <= 0) {
        document.getElementById('countdown-timer').textContent = "üéâ ¬°Hoy es el d√≠a! ¬°Disfruten!";
      } else {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        document.getElementById('countdown-timer').textContent = `Faltan ${days} d√≠as y ${hours} horas`;
      }
    }

    function toggleDateInput() {
      if (adminMode) {
        const newDate = document.getElementById('next-date').value;
        if (newDate) {
          localStorage.setItem('nextCitaDate', newDate);
          updateCountdown();
          alert("üìÖ Fecha actualizada");
        }
      }
    }

    // Programar cartas por fecha
    function loadScheduledLetters() {
      const today = new Date().toLocaleDateString('es-ES');
      const letters = {
        '14/08/2025': '¬°√Åbreme el 14 de agosto! Hoy es tu d√≠a especial üíñ',
        '01/01/2025': 'Feliz A√±o Nuevo, amor. Este a√±o ser√° de nosotros üåü'
      };

      const container = document.getElementById('scheduled-letters');
      const day = today.split(',')[0]; // Formato: "14/8/2024"
      if (letters[today]) {
        const p = document.createElement('p');
        p.textContent = letters[today];
        p.style.fontSize = '1.3em';
        p.style.color = '#ffcc00';
        container.appendChild(p);
      } else {
        container.innerHTML = '<p>Hoy no hay cartas especiales... pero tu amor s√≠ brilla.</p>';
      }
    }

    // Navegaci√≥n
    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
      document.getElementById(id).style.display = 'block';
      if (id === 'countdown') updateCountdown();
      if (id === 'diary') loadDiary();
      if (id === 'letters') loadScheduledLetters();
    }

    function goHome() {
      document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
      document.getElementById('home').style.display = 'block';
    }

    // Iniciar
    window.onload = () => {
      createStars();
      missionPhotos = parseInt(localStorage.getItem('missionPhotos') || 0);
      if (adminMode) updateMissionProgress();
    };
  </script>
</body>
</html>