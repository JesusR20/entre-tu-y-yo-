<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Entre tú y yo</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Arial', sans-serif;
      background: url('https://i.ibb.co/8Xq0fGz/icon-512.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      min-height: 100vh;
    }
    .overlay {
      background: rgba(0, 0, 0, 0.7);
      min-height: 100vh;
      padding: 20px;
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 3.5em;
      text-align: center;
      margin-top: 50px;
      color: #ff99aa;
      text-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    .btn {
      display: block;
      width: 80%;
      max-width: 300px;
      margin: 30px auto;
      padding: 18px;
      background: rgba(255,255,255,0.2);
      border: 2px solid #ff99aa;
      border-radius: 20px;
      color: white;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    .btn:hover {
      background: rgba(255,150,180,0.4);
      transform: scale(1.05);
    }
    .screen {
      display: none;
      padding: 20px;
    }
    .back-btn {
      background: #555 !important;
      margin-top: 30px;
    }
    /* Notas */
    .note {
      background: rgba(255,255,255,0.15);
      margin: 10px auto;
      padding: 15px;
      border-radius: 15px;
      max-width: 90%;
      text-align: left;
      font-style: italic;
      border-left: 4px solid #ff99aa;
    }
    .note-author {
      font-weight: bold;
      color: #ffcc00;
    }
    .note-date {
      font-size: 0.8em;
      color: #ccc;
    }
    /* Frase grande */
    .big-phrase {
      font-size: 2em;
      margin: 60px 20px;
      text-align: center;
      font-style: italic;
      line-height: 1.6;
    }
    /* Cuenta regresiva */
    .countdown {
      font-size: 2.5em;
      text-align: center;
      margin: 40px;
      color: #ffcc00;
    }
    /* Código */
    #code-input {
      width: 80%;
      max-width: 300px;
      padding: 12px;
      margin: 20px auto;
      display: block;
      border-radius: 10px;
      border: none;
      text-align: center;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Pantalla: Código secreto -->
  <div id="welcome" class="screen" style="display:block; text-align:center; padding:60px;">
    <h1>Entre tú y yo</h1>
    <p style="margin:20px;">Ingresa el código para entrar:</p>
    <input type="text" id="code-input" placeholder="Código secreto">
    <button class="btn" onclick="checkCode()">🔓 Entrar</button>
  </div>

  <!-- Home -->
  <div id="home" class="screen">
    <h1>Entre tú y yo</h1>
    <button class="btn" onclick="show('diary')">📓 Diario de sentimientos</button>
    <button class="btn" onclick="show('phrase')">💬 Frase aleatoria</button>
    <button class="btn" onclick="show('countdown')">⏳ Próxima cita</button>
    <button class="btn" onclick="admin()">🔐 Modo especial</button>
  </div>

  <!-- Diario -->
  <div id="diary" class="screen">
    <h2 style="text-align:center; margin:20px;">📖 Nuestras notas</h2>
    <input type="text" id="author" placeholder="¿Tú o ella?" style="width:80%; padding:12px; margin:10px auto; display:block; border-radius:10px; border:none;">
    <textarea id="msg" placeholder="Escribe lo que sientes..." style="width:80%; height:100px; margin:10px auto; display:block; padding:12px; border-radius:10px; border:none;"></textarea>
    <button class="btn" onclick="addNote()">📤 Enviar nota</button>
    <div id="notes"></div>
    <button class="btn back-btn" onclick="show('home')">← Volver</button>
  </div>

  <!-- Frase -->
  <div id="phrase" class="screen">
    <h2 style="text-align:center; margin:20px;">💬 Frase de amor</h2>
    <p id="phrase-text" class="big-phrase">Toca el botón para ver una frase.</p>
    <button class="btn" onclick="randomPhrase()">✨ Mostrar frase</button>
    <button class="btn back-btn" onclick="show('home')">← Volver</button>
  </div>

  <!-- Cuenta regresiva -->
  <div id="countdown" class="screen">
    <h2 style="text-align:center; margin:20px;">⏳ Próxima cita</h2>
    <div class="countdown" id="count-text">Cargando...</div>
    <button class="btn" onclick="setDate()">📅 Cambiar fecha</button>
    <button class="btn back-btn" onclick="show('home')">← Volver</button>
  </div>

  <script>
    // 🔐 Código secreto
    const SECRET_CODE = "AMOR2025"; // Cambia este código
    let authenticated = false;

    function checkCode() {
      const code = document.getElementById('code-input').value;
      if (code === SECRET_CODE) {
        authenticated = true;
        show('home');
        loadNotes();
        updateCountdown();
      } else {
        alert("❌ Código incorrecto. Pídele el código a tu amor.");
      }
    }

    function show(screen) {
      document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
      document.getElementById(screen).style.display = 'block';
      if (screen === 'diary') loadNotes();
      if (screen === 'countdown') updateCountdown();
    }

    // 📓 Diario
    function addNote() {
      const author = document.getElementById('author').value.trim();
      const msg = document.getElementById('msg').value.trim();
      if (!author || !msg) {
        alert("Por favor, llena todos los campos.");
        return;
      }
      const note = {
        author,
        msg,
        date: new Date().toLocaleString('es-ES')
      };
      const notes = JSON.parse(localStorage.getItem('notes') || '[]');
      notes.push(note);
      localStorage.setItem('notes', JSON.stringify(notes));
      document.getElementById('msg').value = '';
      loadNotes();
    }

    function loadNotes() {
      const container = document.getElementById('notes');
      const notes = JSON.parse(localStorage.getItem('notes') || '[]');
      container.innerHTML = '';
      notes.slice().reverse().forEach(n => {
        const div = document.createElement('div');
        div.className = 'note';
        div.innerHTML = `
          <span class="note-author">${n.author}</span>: ${n.msg}
          <div class="note-date">${n.date}</div>
        `;
        container.appendChild(div);
      });
    }

    // 💬 Frases
    const frases = [
      "Tu sonrisa es mi lugar favorito del mundo.",
      "Cada segundo contigo es un regalo.",
      "Eres mi hoy y todos mis mañanas.",
      "Contigo, el tiempo se detiene.",
      "Me enamoro de ti una y otra vez."
    ];

    function randomPhrase() {
      const frase = frases[Math.floor(Math.random() * frases.length)];
      document.getElementById('phrase-text').textContent = frase;
    }

    // ⏳ Cuenta regresiva
    function updateCountdown() {
      let saved = localStorage.getItem('nextDate') || '2025-06-15';
      const now = new Date();
      const then = new Date(saved);
      const diff = Math.floor((then - now) / (1000*60*60*24));
      document.getElementById('count-text').textContent = 
        diff > 0 ? `Faltan ${diff} días` : "🎉 ¡Hoy es el día!";
    }

    function setDate() {
      const date = prompt("Ingresa la fecha de la cita (AAAA-MM-DD):");
      if (date) {
        localStorage.setItem('nextDate', date);
        updateCountdown();
        alert("📅 Fecha guardada");
      }
    }

    // 🔐 Modo admin
    function admin() {
      const pass = prompt("🔐 Contraseña:");
      if (pass === "SB") {
        alert("✅ Modo especial activado");
        // Aquí puedes añadir funciones solo para ti
      } else {
        alert("❌ No es tu momento");
      }
    }

    // Iniciar
    if (authenticated) show('home');
  </script>
</body>
</html>